{% extends "base.html" %}

{% block content %}
  <p class="nav">
    <a class="selected" href="/reviews">read</a> /
    <a href="/reading">reading</a> /
    <a href="/plans">to read</a>
  </p>

  <h2>books i&rsquo;ve read</h2>

  {% for review_entry in all_reviews %}
  <div class="review_preview">
    <a href="/{{ review_entry.out_path() }}">
      <div class="book_thumbnail">
        {% set book = review_entry.book %}
        {% include "_book_cover.html" %}
      </div>

      <div class="book_metadata">
        <p class="title">{{ review_entry.book.title }}</p>
        <p>
          <small>
            by {{ review_entry.book.author }}
            {%- if review_entry.book.publication_year %}
              ({{ review_entry.book.publication_year}})
            {%- endif -%}
              <br/>
            read {{ review_entry.review.date_read | render_date }}
              <br/>
            {% for _ in range(review_entry.review.rating) %}
            ★
            {% endfor %}
            {% for _ in range(5 - review_entry.review.rating) %}
            ☆
            {% endfor %}
          </small>
        </p>
      </div>
    </a>
  </div>
  {% endfor %}
{% endblock %}